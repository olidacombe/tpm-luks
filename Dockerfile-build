FROM alpine:latest

RUN apk add --no-cache \
alpine-sdk \
autoconf-archive \
	curl \
	git \
  cmake \
  cryptsetup-dev \
  libtool \
  m4 \
  make \
  openssl-dev \
  pkgconfig \
  	tpm2-tss-dev \
  	tpm2-tss-static \
  g++ \
    autoconf \
  iproute2 \
  gcc \
  linux-headers \
  automake


# install rust
RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y

# .cargo/bin in PATH is needed for running cargo, rustup etc.
ENV PATH=/root/.cargo/bin:$PATH

WORKDIR /workdir
